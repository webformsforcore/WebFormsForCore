Type.registerNamespace("Microsoft.Reporting.WebFormsClient"),Microsoft.Reporting.WebFormsClient._PromptArea=function(n){Microsoft.Reporting.WebFormsClient._PromptArea.initializeBase(this,[n]),this.ReportViewerId=null,this.CredentialsLinkId=null,this.ParametersGridID=null,this.ViewReportButtonId=null,this.m_activeDropDown=null,this.m_parameterIdList=null,this.m_credentialIdList=null,this.m_hookedEvents=!1,this.m_onReportViewerLoadingChangedDelegate=Function.createDelegate(this,this.OnReportViewerLoadingChanged)},Microsoft.Reporting.WebFormsClient._PromptArea.prototype={initialize:function(){var t,n;Microsoft.Reporting.WebFormsClient._PromptArea.callBaseMethod(this,"initialize"),t=$get(this.ViewReportButtonId),t!=null&&$addHandlers($get(this.ViewReportButtonId),{click:this.OnViewReportClick},this),this.ReportViewerId!=null&&(n=$find(this.ReportViewerId),n!=null&&n.add_propertyChanged(this.m_onReportViewerLoadingChangedDelegate))},dispose:function(){var t=$get(this.ViewReportButtonId),n;t!=null&&$clearHandlers(t),this.ReportViewerId!=null&&(n=$find(this.ReportViewerId),n!=null&&n.remove_propertyChanged(this.m_onReportViewerLoadingChangedDelegate)),$clearHandlers(this.get_element()),delete this.m_onReportViewerLoadingChangedDelegate,this.m_onReportViewerLoadingChangedDelegate=null,Microsoft.Reporting.WebFormsClient._PromptArea.callBaseMethod(this,"dispose")},set_ParameterIdList:function(n){this.m_parameterIdList=n},get_ParameterIdList:function(){return this.m_parameterIdList},set_CredentialIdList:function(n){this.m_credentialIdList=n},get_CredentialIdList:function(){return this.m_credentialIdList},ShouldValidateParameters:function(){if(this.m_parameterIdList==null)return!1;var n=$get(this.CredentialsLinkId);return n==null?!0:n.style.display!="none"},ShouldValidateCredentials:function(){if(this.m_credentialIdList==null)return!1;var n=$get(this.CredentialsLinkId);return n==null?!0:n.style.display=="none"},ValidateInputs:function(){var t,i,n,r,u;if(this.ShouldValidateCredentials())for(n=0;n<this.m_credentialIdList.length;n++)if(t=$get(this.m_credentialIdList[n]),i=t.control,!i.ValidateHasValue())return!1;if(this.ShouldValidateParameters())for(n=0;n<this.m_parameterIdList.length;n++)if(r=$get(this.m_parameterIdList[n]),u=r.control,!u.ValidateHasValue())return!1;return!0},OnViewReportClick:function(n){this.ValidateInputs()||n.preventDefault()},OnChangeCredentialsClick:function(){var f=$get(this.CredentialsLinkId),t,n,i,r,u;for(f.style.display="none",t=$get(this.ParametersGridID),n=0;n<t.rows.length;n++)i=t.rows[n],r=i.attributes.getNamedItem("IsParameterRow")==null,_$RVCommon.SetElementVisibility(i,r);this.ReportViewerId!=null&&(u=$find(this.ReportViewerId),u.recalculateLayout())},HookParameterEvents:function(){var n,t;if(!this.m_hookedEvents&&this.m_parameterIdList!=null){for(n=0;n<this.m_parameterIdList.length;n++)t=$get(this.m_parameterIdList[n]).control,Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl.isInstanceOfType(t)&&(t.get_events().addHandler("OnShowEvent",Function.createDelegate(this,this.OnNewActiveDropDown)),t.get_events().addHandler("OnHideEvent",Function.createDelegate(this,this.OnActiveDropDownHidden)));this.m_hookedEvents=!0}},OnNewActiveDropDown:function(n){this.m_activeDropDown!=n&&this.m_activeDropDown!=null&&this.m_activeDropDown.HideFloatingFrame(),this.m_activeDropDown=n},OnActiveDropDownHidden:function(n){this.m_activeDropDown==n&&(this.m_activeDropDown=null)},HideActiveDropDown:function(){this.m_activeDropDown!=null&&this.m_activeDropDown.HideFloatingFrame()},OnReportViewerLoadingChanged:function(n,t){var u;if(t.get_propertyName()=="isLoading"){var i=$find(this.ReportViewerId),f=i.get_isLoading(),r=!1;f||(u=i.get_reportAreaContentType(),r=u!=Microsoft.Reporting.WebFormsClient.ReportAreaContent.WaitControl),this.EnableDisableInput(r)}},EnableDisableInput:function(n){var i,r,u,t,f,e;if(n&&this.HookParameterEvents(),!n||!Microsoft.Reporting.WebFormsClient._ReportAreaAsyncLoadTarget.AsyncTriggerSelected){if(this.ViewReportButtonId&&(i=$get(this.ViewReportButtonId),i&&(i.disabled=!n)),this.m_credentialIdList)for(t=0;t<this.m_credentialIdList.length;t++)r=$get(this.m_credentialIdList[t]),u=r.control,u.SetEnableState(n);if(this.m_parameterIdList)for(t=0;t<this.m_parameterIdList.length;t++)f=$get(this.m_parameterIdList[t]),e=f.control,e.SetEnableState(n)}}},Microsoft.Reporting.WebFormsClient._PromptArea.registerClass("Microsoft.Reporting.WebFormsClient._PromptArea",Sys.UI.Control),Microsoft.Reporting.WebFormsClient.DataSourceCredential=function(n){Microsoft.Reporting.WebFormsClient.DataSourceCredential.initializeBase(this,[n]),this.UserNameId=null,this.PasswordId=null,this.ValidationMessage=null},Microsoft.Reporting.WebFormsClient.DataSourceCredential.prototype={initialize:function(){Microsoft.Reporting.WebFormsClient.DataSourceCredential.callBaseMethod(this,"initialize")},dispose:function(){$clearHandlers(this.get_element()),Microsoft.Reporting.WebFormsClient.DataSourceCredential.callBaseMethod(this,"dispose")},ValidateHasValue:function(){var n=$get(this.UserNameId);return n.value==""?(alert(this.ValidationMessage),!1):!0},SetEnableState:function(n){var t,i;this.UserNameId&&(t=$get(this.UserNameId),t.disabled=!n),this.PasswordId&&(i=$get(this.PasswordId),i.disabled=!n)}},Microsoft.Reporting.WebFormsClient.DataSourceCredential.registerClass("Microsoft.Reporting.WebFormsClient.DataSourceCredential",Sys.UI.Control);