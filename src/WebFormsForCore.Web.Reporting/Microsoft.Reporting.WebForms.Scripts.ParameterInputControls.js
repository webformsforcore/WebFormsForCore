Type.registerNamespace("Microsoft.Reporting.WebFormsClient"),Microsoft.Reporting.WebFormsClient._BaseParameterInputControl=function(n){Microsoft.Reporting.WebFormsClient._BaseParameterInputControl.initializeBase(this,[n]),this.NullCheckBoxId=null,this.NullValueText=null,this.ValidationMessage=null,this.PostBackOnChange=!1,this.TriggerPostBackScript=null,this.TextBoxEnabledClass=null,this.TextBoxDisabledClass=null,this.TextBoxDisabledColor=null,this.m_validatorIds=new Array(0),this.m_customInputControlIds=new Array(0)},Microsoft.Reporting.WebFormsClient._BaseParameterInputControl.prototype={initialize:function(){Microsoft.Reporting.WebFormsClient._BaseParameterInputControl.callBaseMethod(this,"initialize"),this.NullCheckBoxId!=null&&$addHandlers($get(this.NullCheckBoxId),{click:this.OnNullCheckClick},this)},dispose:function(){this.NullCheckBoxId!=null&&$clearHandlers($get(this.NullCheckBoxId)),$clearHandlers(this.get_element()),Microsoft.Reporting.WebFormsClient._BaseParameterInputControl.callBaseMethod(this,"dispose")},set_CustomInputControlIdList:function(n){this.m_customInputControlIds=n},get_CustomInputControlIdList:function(){return this.m_customInputControlIds},set_ValidatorIdList:function(n){this.m_validatorIds=n},get_ValidatorIdList:function(){return this.m_validatorIds},GetCurrentValue:function(){return null},GetDisplayValue:function(){var n=this.GetCurrentValue();return n==null?"":n},SetEnableState:function(n){var i=n,r,t;for(this.NullCheckBoxId!=null&&(this.SetInputControlEnableState(this.NullCheckBoxId,n),r=$get(this.NullCheckBoxId),i=n&&!r.checked),t=0;t<this.m_validatorIds.length;t++)this.SetValidatorEnableState(this.m_validatorIds[t],i);for(t=0;t<this.m_customInputControlIds.length;t++)this.SetInputControlEnableState(this.m_customInputControlIds[t],i)},ValidateHasValue:function(){return this.GetCurrentValue()==null?(alert(this.ValidationMessage),!1):!0},IsNullChecked:function(){return this.NullCheckBoxId!=null?$get(this.NullCheckBoxId).checked:!1},OnNullCheckClick:function(){this.PostBackOnChange&&this.GetCurrentValue()!=null&&this.TriggerPostBackScript(),this.SetEnableState(!0)},SetValidatorEnableState:function(n,t){var i=$get(n);i!=null&&(i.enabled=t,i.enabled||ValidatorValidate(i))},SetInputControlEnableState:function(n,t){var i=$get(n);i.type=="radio"||i.type=="checkbox"?i.parentNode.disabled=!t:i.type=="text"&&(t?(i.className=this.TextBoxEnabledClass,i.style.backgroundColor=""):(i.className=this.TextBoxDisabledClass,i.style.backgroundColor=this.TextBoxDisabledColor)),i.disabled=!t}},Microsoft.Reporting.WebFormsClient._BaseParameterInputControl.registerClass("Microsoft.Reporting.WebFormsClient._BaseParameterInputControl",Sys.UI.Control),Microsoft.Reporting.WebFormsClient._TextParameterInputControl=function(n){Microsoft.Reporting.WebFormsClient._TextParameterInputControl.initializeBase(this,[n]),this.TextBoxId=null,this.AllowBlank=!1},Microsoft.Reporting.WebFormsClient._TextParameterInputControl.prototype={initialize:function(){Microsoft.Reporting.WebFormsClient._TextParameterInputControl.callBaseMethod(this,"initialize")},dispose:function(){$clearHandlers(this.get_element()),Microsoft.Reporting.WebFormsClient._TextParameterInputControl.callBaseMethod(this,"dispose")},GetCurrentValue:function(){if(this.IsNullChecked())return this.NullValueText;var n=$get(this.TextBoxId);return n.value!=""||this.AllowBlank?n.value:null}},Microsoft.Reporting.WebFormsClient._TextParameterInputControl.registerClass("Microsoft.Reporting.WebFormsClient._TextParameterInputControl",Microsoft.Reporting.WebFormsClient._BaseParameterInputControl),Microsoft.Reporting.WebFormsClient._BoolParameterInputControl=function(n){Microsoft.Reporting.WebFormsClient._BoolParameterInputControl.initializeBase(this,[n]),this.TrueCheckId=null,this.FalseCheckId=null,this.TrueValueText=null,this.FalseValueText=null},Microsoft.Reporting.WebFormsClient._BoolParameterInputControl.prototype={initialize:function(){if(Microsoft.Reporting.WebFormsClient._BoolParameterInputControl.callBaseMethod(this,"initialize"),this.NullCheckBoxId!=null){var n=this.IsNullChecked();this.SetInputControlEnableState(this.TrueCheckId,!n),this.SetInputControlEnableState(this.FalseCheckId,!n)}},dispose:function(){$clearHandlers(this.get_element()),Microsoft.Reporting.WebFormsClient._BoolParameterInputControl.callBaseMethod(this,"dispose")},GetCurrentValue:function(){if(this.IsNullChecked())return this.NullValueText;var n=$get(this.TrueCheckId),t=$get(this.FalseCheckId);return n.checked?this.TrueValueText:t.checked?this.FalseValueText:null}},Microsoft.Reporting.WebFormsClient._BoolParameterInputControl.registerClass("Microsoft.Reporting.WebFormsClient._BoolParameterInputControl",Microsoft.Reporting.WebFormsClient._BaseParameterInputControl),Microsoft.Reporting.WebFormsClient._ValidValueParameterInputControl=function(n){Microsoft.Reporting.WebFormsClient._ValidValueParameterInputControl.initializeBase(this,[n]),this.DropDownId=null,this.DropDownValidatorId=null,this.m_hasSelectAValue=!0},Microsoft.Reporting.WebFormsClient._ValidValueParameterInputControl.prototype={initialize:function(){Microsoft.Reporting.WebFormsClient._ValidValueParameterInputControl.callBaseMethod(this,"initialize"),this.RemoveSelectAValueIfNotSelected(),$addHandlers($get(this.DropDownId),{change:this.RemoveSelectAValueIfNotSelected},this)},dispose:function(){$clearHandlers($get(this.DropDownId)),Microsoft.Reporting.WebFormsClient._ValidValueParameterInputControl.callBaseMethod(this,"dispose")},GetCurrentValue:function(){var n=$get(this.DropDownId);return n.selectedIndex>0||!this.m_hasSelectAValue?n.options[n.selectedIndex].text:null},RemoveSelectAValueIfNotSelected:function(){var n,t;this.m_hasSelectAValue&&(n=$get(this.DropDownId),n.selectedIndex>0&&(n.offsetWidth>0&&(n.style.width=n.offsetWidth+"px"),n.remove(0),this.m_hasSelectAValue=!1,this.DropDownValidatorId!=null&&(t=$get(this.DropDownValidatorId),t!=null&&(t.clientvalidationfunction=null))))}},Microsoft.Reporting.WebFormsClient._ValidValueParameterInputControl.registerClass("Microsoft.Reporting.WebFormsClient._ValidValueParameterInputControl",Microsoft.Reporting.WebFormsClient._BaseParameterInputControl),Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl=function(n){Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl.initializeBase(this,[n]),this.EnabledImageSrc=null,this.DisabledImageSrc=null,this.ImageId=null,this.TextBoxId=null,this.FloatingIframeId=null,this.RelativeDivId=null},Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl.prototype={initialize:function(){Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl.callBaseMethod(this,"initialize"),$addHandlers($get(this.ImageId),{click:this.OnDropDownImageClick},this)},dispose:function(){$clearHandlers($get(this.ImageId)),$clearHandlers(this.get_element()),Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl.callBaseMethod(this,"dispose")},OnDropDownImageClick:function(n){this.ToggleFloatingFrameVisibility(),n.stopPropagation(),n.preventDefault()},SetEnableState:function(n){Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl.callBaseMethod(this,"SetEnableState",[n]);var t=$get(this.ImageId);this.SelectImage(!t.disabled)},SelectImage:function(n){var t=$get(this.ImageId);n?(t.src=this.EnabledImageSrc,t.style.cursor="pointer"):(t.src=this.DisabledImageSrc,t.style.cursor="default")},ToggleFloatingFrameVisibility:function(){var n=$get(this.FloatingIframeId);n.style.display=="none"?this.ShowFloatingFrame():this.HideFloatingFrame()},ShowFloatingFrame:function(){var n=$get(this.FloatingIframeId),t,r,u,i;this.RelativeDivId==null&&(t=this.GetDropDownPosition(),n.style.left=t.Left+"px",n.style.top=t.Top+"px"),n.style.display!="inline"&&(r=$get(this.TextBoxId),n.style.width=r.offsetWidth+"px",n.style.display="inline"),this.RelativeDivId!=null?(u=$get(this.RelativeDivId),u.style.zIndex=1):this.PollForDropDownMovement(),i=this.get_events().getHandler("OnShowEvent"),i!=null&&i(this,Sys.EventArgs.Empty)},HideFloatingFrame:function(){var i=$get(this.FloatingIframeId),t,n;this.RelativeDivId!=null&&(t=$get(this.RelativeDivId),t.style.zIndex=0),i.style.display="none",n=this.get_events().getHandler("OnHideEvent"),n!=null&&n(this,Sys.EventArgs.Empty),this.PostBackOnChange&&this.TriggerPostBackScript()},GetDropDownPosition:function(){var i=$get(this.TextBoxId),n=$get(this.FloatingIframeId),u=n.style.display,r,t;return n.style.display="inline",r=n.offsetParent,n.style.display=u,t=this.GetObjectPosition(i,r),{Left:t.Left,Top:t.Top+i.offsetHeight}},GetObjectPosition:function(n,t){var r=0,u=0,i=n.offsetParent,f,e;if(i!=null)while(i!=t&&i!=null)f=n.offsetTop-i.scrollTop,r+=f,e=n.offsetLeft-i.scrollLeft,u+=e,n=i,i=i.offsetParent;return(r+=n.offsetTop,u+=n.offsetLeft,i!=t&&t!=null&&t.offsetParent!=null)?{Left:0,Top:0}:(i!=t&&t!=null&&(r-=t.offsetTop,u-=t.offsetLeft),{Left:u,Top:r})},PollForDropDownMovement:function(){var n="$get('"+escape(this.get_element().id)+"')";setTimeout("if ("+n+" != null)"+n+".control.PollingCallback();",100)},PollingCallback:function(){var n=$get(this.FloatingIframeId),t;n.style.display=="inline"&&(t=this.GetDropDownPosition(),n.style.left!=t.Left+"px"||n.style.top!=t.Top+"px"?this.HideFloatingFrame():this.PollForDropDownMovement())}},Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl.registerClass("Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl",Microsoft.Reporting.WebFormsClient._BaseParameterInputControl),Microsoft.Reporting.WebFormsClient._CalendarDropDownParameterInputControl=function(n){Microsoft.Reporting.WebFormsClient._CalendarDropDownParameterInputControl.initializeBase(this,[n]),this.BaseCalendarUrl=null},Microsoft.Reporting.WebFormsClient._CalendarDropDownParameterInputControl.prototype={initialize:function(){Microsoft.Reporting.WebFormsClient._CalendarDropDownParameterInputControl.callBaseMethod(this,"initialize")},dispose:function(){$clearHandlers(this.get_element()),Microsoft.Reporting.WebFormsClient._CalendarDropDownParameterInputControl.callBaseMethod(this,"dispose")},GetCurrentValue:function(){if(this.IsNullChecked())return this.NullValueText;var n=$get(this.TextBoxId);return n.value==""?null:n.value},OnDropDownImageClick:function(n){Microsoft.Reporting.WebFormsClient._CalendarDropDownParameterInputControl.callBaseMethod(this,"OnDropDownImageClick",[n]);var t=this.BaseCalendarUrl+encodeURIComponent($get(this.TextBoxId).value);this.SetCalendarUrl(t,!1)},OnCalendarSelection:function(n){var t=$get(this.ImageId);t.focus(),this.ToggleFloatingFrameVisibility(),this.SetCalendarUrl(this.BaseCalendarUrl+encodeURIComponent(n.value),!0)},SetCalendarUrl:function(n,t){var i=$get(this.FloatingIframeId).contentWindow,r,u;if(!t&&(r=this.GetSelectedDateFromUrl(i.document.location.search).toUpperCase(),u=this.GetSelectedDateFromUrl(n).toUpperCase(),r==u&&i.document.readyState=="complete")){i.HideUnhide(i.g_currentShowing,"DatePickerDiv",i.g_currentID,null);return}i.document.readyState=="complete"&&(i.Hide(i.g_currentShowing),i.Unhide("LoadingDiv")),i.document.location.replace(n)},GetSelectedDateFromUrl:function(n){var i=n.lastIndexOf("selectDate"),t=null;return i!=-1&&(t=n.substring(i),i=t.indexOf("="),i==-1?t=null:(t=t.substring(i+1),i=t.indexOf("&"),i!=-1&&(t=t.substring(0,i)))),t}},Microsoft.Reporting.WebFormsClient._CalendarDropDownParameterInputControl.registerClass("Microsoft.Reporting.WebFormsClient._CalendarDropDownParameterInputControl",Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl),Microsoft.Reporting.WebFormsClient._MultiValueParameterInputControl=function(n){Microsoft.Reporting.WebFormsClient._MultiValueParameterInputControl.initializeBase(this,[n]),this.HasValidValueList=!1,this.AllowBlank=!1,this.FloatingEditorId=null,this.HiddenIndicesId=null,this.TextAreaDelimiter=_$RVCommon.getNewLineDelimiter(),this.ListSeparator=null,this.GripImage=null,this.GripImageRTL=null,this.m_hiddenIndices=null,this.m_table=null},Microsoft.Reporting.WebFormsClient._MultiValueParameterInputControl.prototype={initialize:function(){if(Microsoft.Reporting.WebFormsClient._MultiValueParameterInputControl.callBaseMethod(this,"initialize"),this.HasValidValueList){this.m_hiddenIndices=$get(this.HiddenIndicesId);var n=$get(this.FloatingEditorId);this.m_table=n.getElementsByTagName("TABLE")[0]}$addHandlers($get(this.TextBoxId),{click:this.OnTextBoxClick},this),this.UpdateTextBoxWithDisplayValue(),this.RemoveCheckBoxes()},dispose:function(){$clearHandlers(this.get_element()),$clearHandlers($get(this.TextBoxId)),this._resizeBehavior&&(this._resizeBehavior.dispose(),delete this._resizingDelegate),this.HasValidValueList&&(this.m_hiddenIndices=null,this.m_table=null),Microsoft.Reporting.WebFormsClient._MultiValueParameterInputControl.callBaseMethod(this,"dispose")},OnTextBoxClick:function(n){this.ShowFloatingFrame(),n.stopPropagation()},GetCurrentValue:function(){return this.HasValidValueList?this.GetCurrentValueFromValidValueList():this.GetCurrentValueFromTextEditor()},GetCurrentValueFromTextEditor:function(){var u=$get(this.FloatingEditorId),f=u.getElementsByTagName("TEXTAREA")[0],r=f.value,i,n,t;if(this.AllowBlank)return r.replace(new RegExp(this.TextAreaDelimiter,"g"),this.ListSeparator);for(i=r.split(this.TextAreaDelimiter),n="",t=0;t<i.length;t++)i[t].length>0&&(n.length>0&&(n+=this.ListSeparator),n+=i[t]);return n.length==0?null:n},GetCurrentValueFromValidValueList:function(){var t=new Sys.StringBuilder,u=new Sys.StringBuilder,i=0,f=this.m_table.rows.length,n,r;for(f>1&&(i=1),n=i;n<f;n++)r=this.GetValueForMultiValidValueRow(this.m_table,n),r.CheckBox.checked&&(t.append(this.Trim(r.Label)),u.append((n-i).toString()));return this.m_hiddenIndices.value=u.toString(","),t.isEmpty()?null:t.toString(this.ListSeparator)},GetValueForMultiValidValueRow:function(n,t){var f=n.rows[t].cells[0],u=f.childNodes[0],e=u.childNodes[0],r,i;return u.nodeName=="INPUT"?(e=u,r=f.childNodes[1]):r=u.childNodes[1],i=" ",r!=null&&(i=r.innerText||r.textContent,(typeof i!="string"||i==="")&&(i=" ")),{CheckBox:e,Label:i}},Trim:function(n){for(var u=n.length,f=160,i,r,t=0;t<n.length;t++)if(n.charCodeAt(t)!=f){u=t;break}for(i=n.length-1,r=i;r>=u;r--)if(n.charCodeAt(r)!=f){i=r;break}return i++,n.substring(u,i)},UpdateTextBoxWithDisplayValue:function(){var n=$get(this.TextBoxId);n.value=this.GetDisplayValue()},RemoveCheckBoxes:function(){this.m_table!=null&&this.m_table.parentNode.removeChild(this.m_table)},RestoreCheckBoxes:function(){this.m_table!=null&&this.m_hiddenIndices.parentNode.insertBefore(this.m_table,this.m_hiddenIndices)},ShowFloatingFrame:function(){var n=$get(this.FloatingEditorId),t,i,r;(this.RelativeDivId==null&&(t=this.GetDropDownPosition(),n.style.left=t.Left+"px",n.style.top=t.Top+"px"),n.style.display!="inline")&&(this.RestoreCheckBoxes(),i=$get(this.TextBoxId),n.style.width=i.offsetWidth+"px",n.style.display="inline",Microsoft.Reporting.WebFormsClient._MultiValueParameterInputControl.callBaseMethod(this,"ShowFloatingFrame"),r=$get(this.FloatingIframeId),r.style.height=n.offsetHeight,this._resizeBehavior?this._resizeBehavior._reset():this._attachResizeHandle())},_attachResizeHandle:function(){var n=$get(this.FloatingEditorId),t;if(!this.HasValidValueList||!(n.offsetWidth>n.scrollWidth)||!(n.offsetHeight>n.scrollHeight)){t=0,Sys.Browser.agent==Sys.Browser.InternetExplorer&&Sys.Browser.documentMode<8&&(t=Math.max(0,n.offsetHeight-n.clientHeight));var i=Math.min(150,n.offsetHeight+t),r=parseInt(n.style.width)-parseInt(n.style.borderWidth)*2,u=this.HasValidValueList?"auto":"hidden";this.HasValidValueList||(this._textArea=n.getElementsByTagName("textarea")[0],Sys.Browser.agent==Sys.Browser.Firefox&&(this._textArea.style.padding="0px")),this._resizeBehavior=$create(Microsoft.Reporting.WebFormsClient.ResizableControlBehavior,{GripImage:this.GripImage,GripImageRTL:this.GripImageRTL,MinimumHeight:i,MinimumWidth:r,Overflow:u,id:this.FloatingEditorId+"_resize"},null,null,n),this._resizingDelegate=Function.createDelegate(this,this._onResizing),this._resizeBehavior.add_resizing(this._resizingDelegate)}},_onResizing:function(n){var f=$get(this.FloatingEditorId),r=$get(this.FloatingIframeId),i=n.get_Size(),u;r.style.display!="block"&&(r.style.display="block"),!this.HasValidValueList&&this._textArea&&(_$RVCommon.isIEQuirksMode()?(this._textArea.style.width=i.width+"px",this._textArea.style.height=i.height+"px"):(u=parseInt(this._textArea.style.padding)*2,this._textArea.style.width=i.width-u+"px",this._textArea.style.height=i.height-u+"px")),r.style.left=f.style.left,r.style.width=i.width+"px",r.style.height=i.fullHeight+"px"},HideFloatingFrame:function(){var n=$get(this.FloatingEditorId);n.style.display="none",this.UpdateTextBoxWithDisplayValue(),this.RemoveCheckBoxes(),Microsoft.Reporting.WebFormsClient._MultiValueParameterInputControl.callBaseMethod(this,"HideFloatingFrame")},SetDefaultChecked:function(n){Sys.Browser.agent==Sys.Browser.InternetExplorer&&Sys.Browser.version==6&&(n.defaultChecked=n.checked)},OnSelectAllClick:function(n){var r,t,i;for(this.SetDefaultChecked(n),r=this.m_table.rows.length,t=1;t<r;t++)i=this.GetValueForMultiValidValueRow(this.m_table,t),i.CheckBox.checked=n.checked,this.SetDefaultChecked(i.CheckBox)},OnValidValueClick:function(n,t){if(!n.checked&&t!=""){var i=$get(t);i.checked=!1,this.SetDefaultChecked(i)}this.SetDefaultChecked(n)}},Microsoft.Reporting.WebFormsClient._MultiValueParameterInputControl.registerClass("Microsoft.Reporting.WebFormsClient._MultiValueParameterInputControl",Microsoft.Reporting.WebFormsClient._GenericDropDownParameterInputControl);