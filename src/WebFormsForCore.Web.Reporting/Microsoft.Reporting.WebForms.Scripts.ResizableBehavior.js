Type.registerNamespace("Microsoft.Reporting.WebFormsClient"),Microsoft.Reporting.WebFormsClient.ResizableControlBehavior=function(n){Microsoft.Reporting.WebFormsClient.ResizableControlBehavior.initializeBase(this,[n]),this.MinimumWidth=0,this.MinimumHeight=0,this.MaximumWidth=1e5,this.MaximumHeight=1e5,this.GripImage=null,this.GripImageRTL=null,this.Overflow="auto",this._ctrl=null,this._frame=null,this._handle=null,this._tracking=!1,this._lastClientX=0,this._lastClientY=0,this._leftOffset=0,this._onmousedownDelegate=null,this._onmousemoveDelegate=null,this._onmouseupDelegate=null,this._onselectstartDelegate=null,this._invalidateDelegate=null,this._tracking=!1},Microsoft.Reporting.WebFormsClient.ResizableControlBehavior.prototype={initialize:function(){Microsoft.Reporting.WebFormsClient.ResizableControlBehavior.callBaseMethod(this,"initialize"),this._ctrl=this.get_element(),this._ctrlLeft=parseInt(this._ctrl.style.left),this._frameContainer=document.createElement("span"),this._frameContainer.style.cssText="margin: 0px; pading: 0px; background-color: window;",this._frame=document.createElement("DIV"),this._frame.style.overflow=this.Overflow,this._ctrl.style.overflow="visible",this._moveChildren(this._ctrl,this._frame),this._frameContainer.appendChild(this._frame),this._ctrl.appendChild(this._frameContainer),this._frame.style.width=this.MinimumWidth+"px",this._frame.style.height=this.MinimumHeight+"px",this._gripImageHolder=document.createElement("DIV"),this._gripImageHolder.style.cssText="height:16px; width: 100%; pading: 0px; margin: 0px; border-top: solid 1px lightgray; background-color: window;",this._frameContainer.appendChild(this._gripImageHolder),this._gripImage=document.createElement("IMG"),this._gripImage.style.display="none",this._gripImageHolder.appendChild(this._gripImage),this._onmousedownDelegate=Function.createDelegate(this,this._onmousedown),$addHandler(this._gripImage,"mousedown",this._onmousedownDelegate),this._onmousemoveDelegate=Function.createDelegate(this,this._onmousemove),this._onmouseupDelegate=Function.createDelegate(this,this._onmouseup),this._onselectstartDelegate=Function.createDelegate(this,this._onselectstart),this._invalidateDelegate=Function.createDelegate(this,this._reset),window.setTimeout(this._invalidateDelegate,0)},_reset:function(){var n=_$RVCommon.windowRect(),t=this._isRTL(this._ctrl),u=this._ctrlLeft,i,r;Sys.Browser.agent==Sys.Browser.InternetExplorer&&this._isRTL(_$RVCommon.getDocument())&&(u=this._ctrlLeft+(n.scrollWidth-n.left-n.width)),i=u-this.MinimumWidth<n.left,r=u+this.MinimumWidth*2>n.right,this._gripImageHolder.style.direction=i&&r||!i&&!r?t?"rtl":"ltr":t&&i?"ltr":!t&&r?"rtl":t?"rtl":"ltr",this._setRtlCues(),this.set_Size({width:this.MinimumWidth,height:this.MinimumHeight}),this._frame.childNodes[0].focus&&this._frame.childNodes[0].focus()},_setRtlCues:function(){var n=this._isRTL();this._gripImage.style.styleFloat=n?"left":"right",this._gripImage.style.cssFloat=n?"left":"right",_$RVCommon.isIEQuirksMode()&&(n?this._gripImage.style.marginLeft="-3px":this._gripImage.style.marginRight="-3px"),this._gripImage.style.cursor=n?"ne-resize":"se-resize",this._gripImage.src=n?this.GripImageRTL:this.GripImage,this._gripImage.style.display=="none"&&(this._gripImage.style.display="")},dispose:function(){this._onmousedownDelegate&&($removeHandler(this._gripImage,"mousedown",this._onmousedownDelegate),delete this._onmousedownDelegate,this._onmousedownDelegate=null),this._tracking&&(this._onmouseup(),delete this._onmousemoveDelegate,this._onmousemoveDelegate=null,delete this._onmouseupDelegate,this._onmouseupDelegate=null,delete this._onselectstartDelegate,this._onselectstartDelegate=null),this._frame&&(this._ctrl.removeChild(this._frameContainer),this._moveChildren(this._frame,this._ctrl),this._frame=null),this._invalidateDelegate&&(delete this._invalidateDelegate,this._invalidateDelegate=null),Microsoft.Reporting.WebFormsClient.ResizableControlBehavior.callBaseMethod(this,"dispose")},_moveChildren:function(n,t){while(n.childNodes.length>0){var i=n.childNodes[0];n.removeChild(i),t.appendChild(i)}},_onmousedown:function(n){this._tracking=!0,this._lastClientX=n.clientX,this._lastClientY=n.clientY;var t=this._getMouseObjects();return $addHandler(t.target,"mousemove",this._onmousemoveDelegate),$addHandler(t.target,"mouseup",this._onmouseupDelegate),$addHandler(t.target,"selectstart",this._onselectstartDelegate),t.isIE&&t.target.setCapture(),n.preventDefault(),!1},_onmousemove:function(n){if(this._tracking){var t=n.clientX-this._lastClientX,i=n.clientY-this._lastClientY;this._resizeControl(t,i),this._lastClientX=n.clientX,this._lastClientY=n.clientY}return n.preventDefault(),!1},_onmouseup:function(n){this._tracking=!1,this._shadowSize=null;var t=this._getMouseObjects();return $removeHandler(t.target,"mousemove",this._onmousemoveDelegate),$removeHandler(t.target,"mouseup",this._onmouseupDelegate),$removeHandler(t.target,"selectstart",this._onselectstartDelegate),t.isIE&&t.target.releaseCapture(),n&&n.preventDefault(),!1},_getMouseObjects:function(){if(!this._mouseTrackingObject){var n=this._ctrl;this._mouseTrackingObject={isIE:Sys.Browser.agent==Sys.Browser.InternetExplorer,target:Sys.Browser.agent==Sys.Browser.InternetExplorer?n:_$RVCommon.getWindow()}}return this._mouseTrackingObject},_onselectstart:function(n){return n.preventDefault(),!1},_resizeControl:function(n,t){var i,r,s;if(this._frame){this._isRTL()&&(n=n*-1),this._shadowSize||(this._shadowSize=this.get_Size());var h=this._shadowSize,i=Math.min(Math.max(h.width+n,Math.max(this.MinimumWidth,16)),this.MaximumWidth),r=Math.min(Math.max(h.height+t,Math.max(this.MinimumHeight,16)),this.MaximumHeight);this._shadowSize={width:i,height:r};var u=_$RVCommon.windowRect(),f=this._gripImageHolder.offsetHeight,c=Sys.Browser.agent==Sys.Browser.InternetExplorer?2:1,e=u.right-this._ctrl.offsetLeft-c,l=u.bottom-this._ctrl.offsetTop-c-f,o=isNaN(this._ctrlLeft)?0:this._ctrlLeft;this._isRTL()&&(e=Sys.Browser.agent==Sys.Browser.InternetExplorer&&this._isRTL(_$RVCommon.getDocument())?o+this.MinimumWidth+(u.scrollWidth-u.left-u.width):o+this.MinimumWidth-u.left),i=Math.min(i,e),r=Math.min(r,l),this._frame.style.width=i+"px",this._frame.style.height=r+"px",_$RVCommon.isIEQuirksMode()?(s=(parseInt(this._ctrl.style.borderWidth)||0)*2,this._ctrl.style.width=i+s+"px",this._ctrl.style.height=r+f+s+"px"):Sys.Browser.agent==Sys.Browser.InternetExplorer?(this._frameContainer.style.width=i+"px",this._frameContainer.style.height=r+"px",this._ctrl.style.width=i+"px",this._ctrl.style.height=r+f+"px"):(this._frameContainer.style.width="",this._frameContainer.style.height="",this._ctrl.style.width="",this._ctrl.style.height=""),this._isRTL()&&(this._leftOffset=-(i-this.MinimumWidth),this._ctrl.style.left=o+this._leftOffset+"px"),this.raiseResizing()}},add_resizing:function(n){this.get_events().addHandler("resizing",n)},remove_resizing:function(n){this.get_events().removeHandler("resizing",n)},raiseResizing:function(){var n=this.get_events().getHandler("resizing");n&&n(this,Sys.EventArgs.Empty)},get_Size:function(){return this._frame?{width:parseInt(this._frame.style.width),height:parseInt(this._frame.style.height),fullHeight:parseInt(this._frame.style.height)+this._gripImageHolder.offsetHeight}:{width:0,height:0}},set_Size:function(n){var i=this.get_Size(),t=n.width-i.width,r=n.height-i.height;this._isRTL()&&(t=t*-1),this._resizeControl(t,r),this.raisePropertyChanged("Size")},_isRTL:function(n){return n||(n=this._gripImageHolder),_$RVCommon.getComputedStyle(n,"direction")!="ltr"}},Microsoft.Reporting.WebFormsClient.ResizableControlBehavior.registerClass("Microsoft.Reporting.WebFormsClient.ResizableControlBehavior",Sys.UI.Behavior);