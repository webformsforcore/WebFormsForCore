Type.registerNamespace("Microsoft.Reporting.WebFormsClient"),Microsoft.Reporting.WebFormsClient._InternalReportViewer=function(n){Microsoft.Reporting.WebFormsClient._InternalReportViewer.initializeBase(this,[n]),this.ReportViewerId=null,this.ReportAreaId=null,this.DocMapAreaId=null,this.FixedTableId=null,this.TopLevelUpdatePanelId=null,this.DocMapUpdatePanelId=null,this.ActionTypeId=null,this.ActionParamId=null,this.HasSizingRow=!0,this.BaseHeight=null,this.BaseWidth=null,this.PromptAreaRowId=null,this.PromptSplitterId=null,this.DocMapSplitterId=null,this.DirectionCacheId=null,this.DocMapHeaderOverflowDivId=null,this.BrowserModeId=null,this.UnableToLoadPrintMessage=null,this.PostBackToClientScript=null,this.ExportUrlBase=null,this.m_printInfo=null,this.m_OnAppLoadDelegate=Function.createDelegate(this,this.OnAppLoad),this.m_OnReportAreaContentChangedDelegate=Function.createDelegate(this,this.OnReportAreaContentChanged),this.m_OnAsyncPostBackStartedDelegate=Function.createDelegate(this,this.OnAsyncPostBackStarted),this.m_OnAsyncPostBackEndedDelegate=Function.createDelegate(this,this.OnAsyncPostBackEnded),this.m_OnReportAreaScrollPositionChangedDelegate=Function.createDelegate(this,this.OnReportAreaScrollPositionChanged),this.m_OnReportAreaNewContentVisibleDelegate=Function.createDelegate(this,this.OnReportAreaNewContentVisible),this.m_OnWindowResizeDelegate=Function.createDelegate(this,this.OnWindowResize),this.m_OnOrientationChangeDelegate=Function.createDelegate(this,this.OnOrientationChange),this.m_PromptSplitterCollapsingDelegate=Function.createDelegate(this,this.OnPromptSplitterCollapsing),this.m_DocMapSplitterCollapsingDelegate=Function.createDelegate(this,this.OnDocMapSplitterCollapsing),this.m_DocMapSplitterResizingDelegate=Function.createDelegate(this,this.OnDocMapSplitterResizing),this.m_onAppLoadCalled=!1,this.m_useResizeScript=!1,this.m_reportViewer=null,this.m_isLoading=!0,this.m_toolBarUpdate={},this.m_reportAreaContentChanged=!1,this.m_previousWindowHeight=-1,this.m_previousWindowWidth=-1},Microsoft.Reporting.WebFormsClient._InternalReportViewer.prototype={initialize:function(){Microsoft.Reporting.WebFormsClient._InternalReportViewer.callBaseMethod(this,"initialize"),Sys.Application.add_load(this.m_OnAppLoadDelegate)},dispose:function(){if(Microsoft.Reporting.WebFormsClient._InternalReportViewer.callBaseMethod(this,"dispose"),this.m_OnAppLoadDelegate!=null&&(Sys.Application.remove_load(this.m_OnAppLoadDelegate),delete this.m_OnAppLoadDelegate,this.m_OnAppLoadDelegate=null),this.m_OnReportAreaContentChangedDelegate!=null&&(delete this.m_OnReportAreaContentChangedDelegate,this.m_OnReportAreaContentChangedDelegate=null),this.m_OnReportAreaNewContentVisibleDelegate!=null&&(delete this.m_OnReportAreaNewContentVisibleDelegate,this.m_OnReportAreaNewContentVisibleDelegate=null),this.m_OnAsyncPostBackStartedDelegate!=null){var n=this.GetPageRequestManager();n!=null&&(n.remove_beginRequest(this.m_OnAsyncPostBackStartedDelegate),n.remove_endRequest(this.m_OnAsyncPostBackEndedDelegate)),delete this.m_OnAsyncPostBackStartedDelegate,this.m_OnAsyncPostBackStartedDelegate=null,delete this.m_OnAsyncPostBackEndedDelegate,this.m_OnAsyncPostBackEndedDelegate=null}this.m_OnReportAreaScrollPositionChangedDelegate!=null&&(delete this.m_OnReportAreaScrollPositionChangedDelegate,this.m_OnReportAreaScrollPositionChangedDelegate=null),this.m_OnWindowResizeDelegate!=null&&(this.m_useResizeScript&&$removeHandler(window,"resize",this.m_OnWindowResizeDelegate),delete this.m_OnWindowResizeDelegate,this.m_OnWindowResizeDelegate=null),this.m_OnOrientationChangeDelegate!=null&&($removeHandler(window,"orientationchange",this.m_OnOrientationChangeDelegate),delete this.m_OnOrientationChangeDelegate,this.m_OnOrientationChangeDelegate=null),this._promptSplitter&&this._promptSplitter.remove_collapsing(this.m_PromptSplitterCollapsingDelegate),delete this.m_PromptSplitterCollapsingDelegate,this.m_PromptSplitterCollapsingDelegate=null,this._docMapSplitter&&(this._docMapSplitter.remove_collapsing(this.m_DocMapSplitterCollapsingDelegate),this._docMapSplitter.remove_resizing(this.m_DocMapSplitterResizingDelegate)),delete this.m_DocMapSplitterCollapsingDelegate,this.m_DocMapSplitterCollapsingDelegate=null,delete this.m_DocMapSplitterResizingDelegate,this.m_DocMapSplitterResizingDelegate=null,this._docMapCells!=null&&(delete this._docMapCells,this._docMapCells=null)},ResetWindowSizeCache:function(){this.m_previousWindowHeight=-1,this.m_previousWindowWidth=-1},set_PrintInfo:function(n){this.m_printInfo=n},get_PrintInfo:function(){return this.m_printInfo},OnAppLoad:function(){var i,n,t;this.m_onAppLoadCalled||(i=$get(this.ReportAreaId),n=i.control,n.add_contentChanged(this.m_OnReportAreaContentChangedDelegate),n.add_propertyChanged(this.m_OnReportAreaScrollPositionChangedDelegate),n.add_newContentVisible(this.m_OnReportAreaNewContentVisibleDelegate),t=this.GetPageRequestManager(),t!=null&&(t.add_beginRequest(this.m_OnAsyncPostBackStartedDelegate),t.add_endRequest(this.m_OnAsyncPostBackEndedDelegate)),this.m_useResizeScript=!_$RVCommon.isIEQuirksMode()&&parseFloat(this.BaseHeight)!=0&&this.HasSizingRow,this.m_useResizeScript&&$addHandler(window,"resize",this.m_OnWindowResizeDelegate),$addHandler(window,"orientationchange",this.m_OnOrientationChangeDelegate),this.UpdateBrowserMode(),this.SetUpdatePanelsDimensions(),this.m_onAppLoadCalled=!0),this._promptSplitter||(this._promptSplitter=$get(this.PromptSplitterId).control,this._promptSplitter.add_collapsing(this.m_PromptSplitterCollapsingDelegate)),this._docMapSplitter||(this._docMapSplitter=$get(this.DocMapSplitterId).control,this._docMapSplitter.add_collapsing(this.m_DocMapSplitterCollapsingDelegate),this._docMapSplitter.add_resizing(this.m_DocMapSplitterResizingDelegate)),this._docMapCells!=null&&(delete this._docMapCells,this._docMapCells=null),this._UpdateDocMapAreaUIVisibility(),this.ResizeViewerReportUsingContainingElement(!1),this.ResetWindowSizeCache(),this.HideSizingRow()},HideSizingRow:function(){if(this.HasSizingRow&&_$RVCommon.isIEQuirksMode()){var n=$get(this.FixedTableId),t=n.rows.item(0);t.style.display="none"}},OnReportAreaContentChanged:function(n,t){this.m_toolBarUpdate=t.ToolBarUpdate,this.m_reportAreaContentChanged=!0;var i=this.GetPageRequestManager();i!=null&&i.get_isInAsyncPostBack()||this.EnableDisableInput(!0)},OnReportAreaNewContentVisible:function(n,t){var r,i;this.get_reportAreaContentType()==Microsoft.Reporting.WebFormsClient.ReportAreaContent.ReportPage&&(r=$get(this.DocMapAreaId),_$RVCommon.SetElementVisibility(r,!0),this._UpdateDocMapAreaUIVisibility()),i=this.get_events().getHandler("reportAreaNewContentVisible"),i&&i(this,t)},OnWindowResize:function(){this.ResizeViewerReportUsingContainingElement(!1)},OnOrientationChange:function(){this.ResizeViewerReportUsingContainingElement(!1)},HasWindowChangedSize:function(){if(Sys.Browser.agent!=Sys.Browser.InternetExplorer)return!0;var n=document.body.clientWidth,t=document.body.clientHeight,i=n!==this.m_previousWindowWidth||t!==this.m_previousWindowHeight;return this.m_previousWindowHeight=t,this.m_previousWindowWidth=n,i},ResetSizeToServerDefault:function(){var r=$get(this.ReportViewerId),n,t,i;r.style.height=this.BaseHeight,n=$get(this.ReportAreaId),n.parentNode.style.height="100%",t=$get(n.control.VisibleReportContentContainerId),t.style.height="100%",t.style.width="",this.SetLastRowHeight("100%"),i=this.GetDocMapCells(),i.sizingElement!=null&&(i.sizingElement.style.height="100%")},ResizeViewerReportUsingContainingElement:function(n){var f=$get(this.ReportViewerId),r=$get(this.ReportAreaId),e,t,u,v,y,i,h,c;if(r.control!=null&&(n||this.m_useResizeScript&&this.HasWindowChangedSize())){if(e=!1,this.BaseHeight.indexOf("%")>=0&&(e=!0),t=-1,u=-1,e?(v=this.GetReportViewerHeight(),t=Math.round(v/100*parseFloat(this.BaseHeight))):t=_$RVCommon.convertToPx(this.BaseHeight),y=this.GetFixedHeight(),u=t-y,t==0&&e||t<0||u<0||t<u)this.SetDocMapAreaHeight(r.offsetHeight);else{if(f.style.height=t+"px",r.parentNode.style.height=u+"px",i=$get(r.control.VisibleReportContentContainerId),i&&i.style){var o=_$RVCommon.getStyleForElement(i),l=_$RVCommon.convertToPx(o.borderTopWidth)+_$RVCommon.convertToPx(o.borderBottomWidth),a=_$RVCommon.convertToPx(o.borderLeftWidth)+_$RVCommon.convertToPx(o.borderRightWidth);if(l>0||a>0){var s=r.control.GetReportPage().ReportDivId,p=s?$get(s).childNodes[0].clientHeight:0,w=s?$get(s).childNodes[0].clientWidth:0;i.style.height=0,i.style.width=0,h=0,c=0,l>0&&(h=Math.max(r.clientHeight-l,p)),a>0&&(c=Math.max(r.clientWidth-a,w)),h>0&&(i.style.height=h+"px"),c>0&&(i.style.width=c+"px")}}this.SetLastRowHeight(u+"px"),this.SetDocMapAreaHeight(u)}_$RVCommon.isPreIE8StandardsMode()&&this.BaseWidth.indexOf("%")>0&&this.HasSizingRow&&(this._UpdateDocMapAreaUIVisibility(!0),f.style.width=this.BaseWidth,f.style.width=f.clientWidth+"px",this._UpdateDocMapAreaUIVisibility()),this._UpdateDocMapAreaUIWidth(Number.NaN)}},SetLastRowHeight:function(n){for(var i=null,r=$get(this.FixedTableId).rows.item(this.HasSizingRow?4:3),t=0;t<r.cells.length;t++)i||(i=r.cells.item(t).style.height),r.cells.item(t).style.height=n;return i},GetReportViewerHeight:function(){var i=$get(this.ReportAreaId),o=i.scrollTop,s=i.scrollLeft,n=this.GetDocMapCells(),r=0,u=0,f,e;n!=null&&n.docMapContainer!=null&&(r=n.docMapContainer.scrollTop,u=n.docMapContainer.scrollLeft);var t=$get(this.ReportViewerId),h=0,c=t.style.display,l=t.style.height;return t.style.display="none",t.style.height=this.BaseHeight,h=t.parentNode.parentNode.clientHeight,t.style.display=c,t.style.height=l,(o>0||s>0)&&(f=i.scrollTop,e=i.scrollLeft,o!=f&&(i.scrollTop=o),s!=e&&(i.scrollLeft=s)),(r>0||u>0)&&(f=n.docMapContainer.scrollTop,e=n.docMapContainer.scrollLeft,r!=f&&(n.docMapContainer.scrollTop=r),u!=e&&(n.docMapContainer.scrollLeft=u)),h},GetFixedHeight:function(){var i=0,r=$get(this.FixedTableId),n;if(r!=null){var u=this.get_reportAreaScrollPosition(),f=this.SetLastRowHeight("100%"),t=r.rows;for(n=0;n<t.length-1;n++)t[n].style.display!="none"&&(i+=t[n].offsetHeight);this.SetLastRowHeight(f),this.set_reportAreaScrollPosition(u)}return i},OnAsyncPostBackStarted:function(){this.EnableDisableInput(!1)},OnAsyncPostBackEnded:function(){var n=$get(this.ReportAreaId),t=n.control;t.IsLoading()||this.EnableDisableInput(!0)},get_isLoading:function(){return this.m_isLoading},get_reportAreaScrollPosition:function(){var t=$get(this.ReportAreaId),n=t.control;return n!=null?n.get_scrollPosition():new Sys.UI.Point(0,0)},set_reportAreaScrollPosition:function(n){var i=$get(this.ReportAreaId),t=i.control;if(t!=null)return t.set_scrollPosition(n)},OnReportAreaScrollPositionChanged:function(n,t){t.get_propertyName()=="scrollPosition"&&this.raisePropertyChanged("reportAreaScrollPosition")},EnableDisableInput:function(n){var t,i;this.m_isLoading==n&&(this.m_isLoading=!n,this.raisePropertyChanged("isLoading"),this.m_reportAreaContentChanged&&(this.raisePropertyChanged("reportAreaContentType"),this.m_reportAreaContentChanged=!1)),n&&Microsoft.Reporting.WebFormsClient._ReportAreaAsyncLoadTarget.AsyncTriggerSelected||(t=$get(this.ReportAreaId),t&&t.control&&t.control.EnableDisableInput(n),this._promptSplitter.SetActive(n),this._docMapSplitter.SetActive(n),i=$get(this.DocMapAreaId).control,i&&i.SetActive(n)),this.ResizeViewerReportUsingContainingElement(!1)},add_reportContentLoaded:function(n){var t=$get(this.ReportAreaId),i=t.control;i.add_reportContentLoaded(n)},remove_reportContentLoaded:function(n){var t=$get(this.ReportAreaId),i=t.control;i.remove_reportContentLoaded(n)},add_reportAreaNewContentVisible:function(n){this.get_events().addHandler("reportAreaNewContentVisible",n)},remove_reportAreaNewContentVisible:function(n){this.get_events().removeHandler("reportAreaNewContentVisible",n)},ExportReport:function(n){return this.ExportUrlBase==null?!1:(window.open(this.ExportUrlBase+encodeURIComponent(n),"_blank"),!0)},Print:function(n){var i=this.m_printInfo,r,t;return i==null?!1:(r=this.ReportViewerId+"_PrintObj",t=$get(r),t&&(n||t.readyState==4))?typeof t.Print=="undefined"?(alert(this.UnableToLoadPrintMessage),!1):(t.MarginLeft=i.MarginLeft,t.MarginTop=i.MarginTop,t.MarginRight=i.MarginRight,t.MarginBottom=i.MarginBottom,t.PageHeight=i.PageHeight,t.PageWidth=i.PageWidth,t.Culture=i.Culture,t.UICulture=i.UICulture,t.UseSingleRequest=i.UseSingleRequest,t.UseEmfPlus=!0,t.Print(i.PrintRequestPath,i.PrintRequestQuery,i.ReportDisplayName),!0):!1},PrintDialog:function(){var t=this.m_printInfo,i,n,r,u;if(t==null)return!1;if(i=this.ReportViewerId+"_PrintObj",n=$get(i),n==null)try{return n=document.createElement("OBJECT"),n.id=i,n.style.display="none",n.ReportViewer=this,n.codeBase=t.CabUrl,n.setAttribute("VIEWASTEXT",""),r=$get(this.ReportViewerId),u=function(){this.ReportViewer.Print(!1)},_$RVCommon.isIE10OrLower()?(n.onreadystatechange=u,r.appendChild(n),n.classid="CLSID:"+t.CabClsid):(n.addEventListener("readystatechange",u),n.classid="CLSID:"+t.CabClsid,r.appendChild(n)),!0}catch(f){return alert(this.UnableToLoadPrintMessage),!1}else return this.Print(!0)},SetPromptAreaVisibility:function(n){var t=$get(this.PromptAreaRowId);t!=null&&(_$RVCommon.SetElementVisibility(t,n),this._promptSplitter._setCollapsed(!n),this.raisePropertyChanged("promptAreaCollapsed"),this.ResizeViewerReportUsingContainingElement(!0))},ArePromptsVisible:function(){return!this._promptSplitter._getCollapsed()},GetDocMapCells:function(){var n,t,i;return this._docMapCells||(n=$get(this.FixedTableId),this._docMapCells={docMapHeadCell:this.HasSizingRow?n.rows.item(0).cells.item(0):null,splitterDocMapHeadCell:this.HasSizingRow?n.rows.item(0).cells.item(1):null,docMapCell:n.rows.item(this.HasSizingRow?4:3).cells.item(0),splitterDocMapCell:n.rows.item(this.HasSizingRow?4:3).cells.item(1),reportArea:$get(this.ReportAreaId),fixedTable:n,hasNodes:!1,docMapTitleRow:null,docMapTitleCell:null,docMapContainerCell:null,docMapContainer:null,docMapTree:null,sizingElement:null},this.DocMapAreaId!=null&&(t=$get(this.DocMapAreaId),t&&(i=t.getElementsByTagName("table"),i.length>0&&(this._docMapCells.docMapTitleRow=t.getElementsByTagName("table")[0].rows.item(0),this._docMapCells.docMapTitleCell=this._docMapCells.docMapTitleRow.cells.item(0),this._docMapCells.docMapContainerCell=t.getElementsByTagName("table")[0].rows.item(1).cells.item(0),this._docMapCells.docMapContainer=this._docMapCells.docMapContainerCell.getElementsByTagName("div")[0],this._docMapCells.docMapTree=this._docMapCells.docMapContainer.getElementsByTagName("div")[0],this._docMapCells.hasNodes=!0,this._docMapCells.docMapContainerCell&&(this._docMapCells.sizingElement=this._docMapCells.docMapContainerCell.firstChild))))),this._docMapCells},SetDocMapAreaVisibility:function(n){var t=this.GetDocMapCells();t.hasNodes&&(this._docMapSplitter._setCollapsed(!n),this.raisePropertyChanged("documentMapCollapsed")),this._UpdateDocMapAreaUIVisibility()},_UpdateDocMapAreaUIVisibility:function(n){var t=this.GetDocMapCells(),i=!1,u,r;n||(i=!this._docMapSplitter._getCollapsed()&&t.hasNodes),u=i,n||(i=t.hasNodes),t.docMapHeadCell&&_$RVCommon.SetElementVisibility(t.docMapHeadCell,i),_$RVCommon.SetElementVisibility(t.docMapCell,i),(this._docMapSplitter._getCollapsable()||i)&&(t.splitterDocMapHeadCell&&_$RVCommon.SetElementVisibility(t.splitterDocMapHeadCell,t.hasNodes),_$RVCommon.SetElementVisibility(t.splitterDocMapCell,t.hasNodes)),n||(r=0,u&&(r=this._docMapSplitter._getSize(),isNaN(r)&&(r=t.docMapCell.style.width)),this._UpdateDocMapAreaUIWidth(r))},AreDocMapAreaVisible:function(){return!this._docMapSplitter._getCollapsed()},OnPromptSplitterCollapsing:function(n,t){this.SetPromptAreaVisibility(!t.get_collapse())},OnDocMapSplitterCollapsing:function(n,t){this.SetDocMapAreaVisibility(!t.get_collapse())},_ValidateDocMapAreaWidth:function(n){var t,i;return this.HasSizingRow?(t=this.GetDocMapCells(),t.hasNodes)?n>=0&&t.reportArea&&(i=t.fixedTable.clientWidth,i-=this._docMapSplitter.get_element().parentNode.clientWidth,i-=t.reportArea.offsetWidth-t.reportArea.clientWidth,n>i)?!1:!0:!1:!1},SetDocMapAreaWidth:function(n){this._ValidateDocMapAreaWidth(n)&&(n>=0&&this._docMapSplitter._setSize(n),this._UpdateDocMapAreaUIWidth(n))},_UpdateDocMapAreaUIWidth:function(n){var t,i;this._ValidateDocMapAreaWidth(n)&&(t=this.GetDocMapCells(),t.hasNodes&&(i=n+"px",isNaN(n)&&(i=n),(n||n==0)&&(t.docMapHeadCell?t.docMapHeadCell.style.width=i:t.docMapCell.style.width=i),t.docMapContainerCell.style.width=t.docMapCell.clientWidth+"px",t.docMapContainer.style.width=t.docMapCell.clientWidth+"px",$get(this.DocMapHeaderOverflowDivId).style.width=t.docMapCell.clientWidth+"px"))},SetDocMapAreaHeight:function(n){var t,i,r,u;this.DocMapAreaId!=null&&(t=this.GetDocMapCells(),t.docMapContainerCell!=null&&(i=t.docMapContainerCell,r=t.docMapTitleCell.scrollHeight,n-r>0&&(u=t.sizingElement,i.getAttribute("HEIGHT")&&!_$RVCommon.isQuirksMode()&&(i.removeAttribute("HEIGHT"),i.parentNode.removeAttribute("HEIGHT")),u.style.height=n-r+"px")))},OnDocMapSplitterResizing:function(n,t){var i=this.GetDocMapCells();i.hasNodes&&this.SetDocMapAreaWidth(i.docMapCell.clientWidth+t.get_delta())},Find:function(n){typeof n=="string"&&n.length!=0&&this.InvokeInteractivityPostBack("Find",n)},FindNext:function(){var n=this.GetReportAreaObject();return n==null?!0:n.HighlightNextSearchHit()?!0:(this.InvokeInteractivityPostBack("FindNext",null),!1)},get_zoomLevel:function(){var n=this.GetReportAreaObject();return n==null?100:n.get_zoomLevel()},set_zoomLevel:function(n){var t=this.GetReportAreaObject();t!=null&&t.set_zoomLevel(n)},RefreshReport:function(){this.InvokeInteractivityPostBack("Refresh",null)},get_reportAreaContentType:function(){var n=this.GetReportAreaObject();return n==null?Microsoft.Reporting.WebFormsClient.ReportAreaContent.None:n.get_contentType()},OnUserCanceled:function(){var t=$find(this.ReportAreaId);t._OnUserCanceled(),this.EnableDisableInput(!0)},GetDirection:function(){var n=$get(this.DirectionCacheId),t=$get(this.ReportViewerId);return n.value=Microsoft.Reporting.WebFormsClient._InternalReportViewer.GetRTLDirection(t)},GetToolBarUpdate:function(){return this.m_toolBarUpdate},GetReportAreaObject:function(){var n=$get(this.ReportAreaId);return n!=null?n.control:null},GetPageRequestManager:function(){return Sys.WebForms?Sys.WebForms.PageRequestManager.getInstance():null},InvokeInteractivityPostBack:function(n,t){$get(this.ActionTypeId).value=n,$get(this.ActionParamId).value=t,this.PostBackToClientScript()},UpdateBrowserMode:function(){var n=this.BrowserModeId,t;n&&(t=$get(n),t.value=_$RVCommon.isQuirksMode()?"quirks":"standards")},SetUpdatePanelsDimensions:function(){var t=$get(this.TopLevelUpdatePanelId),n;t!=null&&(t.style.height="100%",t.style.width="100%"),n=$get(this.DocMapUpdatePanelId),n!=null&&(n.style.height="100%",n.style.width="100%")}},Microsoft.Reporting.WebFormsClient._InternalReportViewer.registerClass("Microsoft.Reporting.WebFormsClient._InternalReportViewer",Sys.UI.Control),Microsoft.Reporting.WebFormsClient._InternalReportViewer.GetRTLDirection=function(n){if(n.currentStyle!=null)return n.currentStyle.direction;if(window.getComputedStyle!=null){var t=window.getComputedStyle(n,null);return t.getPropertyValue("direction")}return"ltr"};